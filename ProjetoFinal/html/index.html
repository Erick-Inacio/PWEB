<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanban - Projeto de Software</title>
    <link rel="stylesheet" href="../css/style.css">

    <!-- Firebase SDK compatível -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

    <!-- Configuração do Firebase -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCjKetSd_2qPx1gf3pwoBEUF568paOOyNs",
            authDomain: "projeto-final-pweb-601c7.firebaseapp.com",
            projectId: "projeto-final-pweb-601c7",
            storageBucket: "projeto-final-pweb-601c7.firebasestorage.app",  // Mantido como fornecido pelo Firebase
            messagingSenderId: "224026467499",
            appId: "1:224026467499:web:c867274db8165289c76bee",
            measurementId: "G-NTWWWT2PZC"
        };
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <h1>Kanban - Projeto de Software</h1>
    <input type="text" id="search" placeholder="Buscar por título, prioridade, responsável ou data"
        oninput="searchTasks()">

    <div class="kanban-board">
        <div class="kanban-column" id="backlog">
            <h2>Backlog</h2>
            <div class="task-list" id="backlog-list"></div>
            <button onclick="openTaskModal()">Adicionar Tarefa</button>
        </div>
        <div class="kanban-column" id="desenvolvimento">
            <h2>Desenvolvimento</h2>
            <div class="task-list" id="desenvolvimento-list"></div>
        </div>
        <div class="kanban-column" id="concluido">
            <h2>Concluído</h2>
            <div class="task-list" id="concluido-list"></div>
        </div>
    </div>

    <!-- Modal de Criação/Alteração de Tarefa -->
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTaskModal()">&times;</span>
            <h3 id="modal-title">Adicionar Tarefa</h3>
            <form id="task-form">
                <input type="hidden" id="task-id">
                <label>Título:</label>
                <input type="text" id="task-title" required>
                <label>Descrição:</label>
                <textarea id="task-desc" required></textarea>
                <label>Prioridade:</label>
                <select id="task-priority">
                    <option value="Alta">Alta</option>
                    <option value="Média">Média</option>
                    <option value="Baixa">Baixa</option>
                </select>
                <label>Data de Vencimento:</label>
                <input type="date" id="task-deadline" required>
                <label>Responsáveis:</label>
                <input type="text" id="task-responsible" required>
                <button type="submit">Salvar</button>
            </form>
        </div>
    </div>

    <script src="../js/script.js"></script>
    <script src="../js/auth.js"></script>
</body>
</html>
